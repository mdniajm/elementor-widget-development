!function(){"use strict";var e={d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{documentOptionsMenu:function(){return a}});var n=React,r=wp.i18n,o=__UNSTABLE__elementorPackages.ui,i=__UNSTABLE__elementorPackages.topBar;const a=(0,i.createMenu)({name:"document-options",groups:["save"]});function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}const{useMenuItems:u}=a,s=(0,o.styled)(i.PopoverMenu)`
	& > .MuiPopover-paper > .MuiList-root > .MuiDivider-root {
		&:only-child, /* A divider is being rendered lonely */
		&:last-child, /* The last group renders empty but renders a divider */
		& + .MuiDivider-root /* Multiple dividers due to multiple empty groups */ {
			display: none;
		}
	}
`;function l(e){const{save:t,default:r}=u();return n.createElement(s,c({},e,{anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{mt:2,ml:3}}}),t.map((({MenuItem:e,id:t},r)=>[r>0&&n.createElement(i.Divider,{key:`${t}-divider`}),n.createElement(e,{key:t})])),r.length>0&&n.createElement(i.Divider,null),r.map((({MenuItem:e,id:t})=>n.createElement(e,{key:t}))))}var p=__UNSTABLE__elementorPackages.documents,m=__UNSTABLE__elementorPackages.icons;function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}var v=__UNSTABLE__elementorPackages.v1Adapters;(0,i.injectIntoPrimaryAction)({name:"document-primary-action",filler:function(){const e=(0,p.useActiveDocument)(),{save:t}=(0,p.useActiveDocumentActions)(),i=(0,o.usePopupState)({variant:"popover",popupId:"document-save-options"});if(!e)return null;const a=!function(e){return"kit"!==e.type.value&&(e.isDirty||"draft"===e.status.value)}(e),c=e.isSaving&&!a;return n.createElement(n.Fragment,null,n.createElement(o.ButtonGroup,{size:"large",variant:"contained"},n.createElement(o.Button,{onClick:()=>!e.isSaving&&t(),sx:{width:"120px"},disabled:a},c?n.createElement(o.CircularProgress,null):function(e){return e.userCan.publish?(0,r.__)("Publish","elementor"):(0,r.__)("Submit","elementor")}(e)),n.createElement(o.Tooltip,{title:(0,r.__)("Save Options","elementor"),PopperProps:{sx:{"&.MuiTooltip-popper .MuiTooltip-tooltip.MuiTooltip-tooltipPlacementBottom":{mt:3,mr:1}}}},n.createElement(o.Button,d({sx:{px:0}},(0,o.bindTrigger)(i)),n.createElement(m.ChevronDownIcon,null)))),n.createElement(l,d({},(0,o.bindMenu)(i),{onClick:i.close})))}}),i.utilitiesMenu.registerAction({name:"document-preview-button",priority:30,useProps:function(){const e=(0,p.useActiveDocument)();return{icon:m.EyeIcon,title:(0,r.__)("Preview Changes","elementor"),onClick:()=>e&&(0,v.runCommand)("editor/documents/preview",{id:e.id,force:!0})}}}),a.registerAction({group:"save",name:"document-save-draft",priority:10,useProps:function(){const e=(0,p.useActiveDocument)(),{saveDraft:t}=(0,p.useActiveDocumentActions)();return{icon:m.FileReportIcon,title:(0,r.__)("Save Draft","elementor"),onClick:t,disabled:!e||e.isSaving||e.isSavingDraft||!e.isDirty}}}),a.registerAction({group:"save",name:"document-save-as-template",priority:20,useProps:function(){const{saveTemplate:e}=(0,p.useActiveDocumentActions)();return{icon:m.FolderIcon,title:(0,r.__)("Save as Template","elementor"),onClick:e}}}),(window.__UNSTABLE__elementorPackages=window.__UNSTABLE__elementorPackages||{}).documentsUi=t}();